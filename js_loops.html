<!DOCTYPE html>
<html lang="en">
    <head>
        <title>JS Loops | Codey Luwak</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/x-icon" href="./img/keyboard-5-16.ico">
        <link rel="stylesheet" href="./style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,400;0,700;1,400;1,700&family=Fira+Mono:wght@400;500;700&family=Roboto:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    </head>

    <body>

        <header>
            <a href="./index.html"><h1>JavaScript: Loops</h1></a>
            <nav id="navMenu"></nav>
        </header>

        <main class="js-notes">

            <article id="for">
                <h2>for</h2>
                <h3>The standard for loop</h3>

                <dl>
                    <dt><code>for(){}</code></dt>
                    <dd>
<pre class="formula">
for (<span class="variable">initializer</span>; <span class="variable">condition</span>; <span class="variable">final-expression</span>) {
    <span class="variable">code block</span>
}
</pre>
                    </dd>
                    <dd>Consists of:
                        <ul>
                            <li><code>for</code> key word</li>
                            <li>Parentheses <code>(<span class="variable">initializer</span>; <span class="variable">condition</span>; <span class="variable">final-expression</span>)</code>
                                <ul>
                                    <li>Initializer or counter variable</li>
                                    <li>Condition</li>
                                    <li>Final-expression: Usually an increment/decrement that bring the counter variable closer to the condition no longer true. Run each time loop has gone through a full iteration.</li>
                                </ul>
                            </li>
                            <li>Curly braces <code>{<span class="variable">code block</span>}</code>
                                <ul>
                                    <li>Code block to run</li>
                                </ul>
                            </li>
                        </ul>
                        <ul>

                        </ul>
                    </dd>
                    <dd>Very common use:</dd>
                    <dd>
<pre class="formula">
for (<span class="variable">let i = 0</span>; <span class="variable">i &lt; upperLimit</span>; <span class="variable">i++</span>) {
    <span class="variable">code block</span>
}
</pre>
                    </dd>

                    <dt>Loop body</dt>
                    <dd>The code block inside loop's <code>{}</code></dd>

                    <dt>Iteration</dt>
                    <dd>A single execution of the loop body. A cycle.</dd>

                    <dt>Inline variable declaration</dt>
                    <dd>Declaration of a variable within <code>for</code> loop's braces.</dd>
                    <dd>
                        <ul>
                            <li><code>for (let i = 0; ...)</code></li>
                            <li>Such variables are visible only inside the loop.</li>
                            <li>We can also use existing variable declared outside the loop: <code>let i = 0; for (i = 0;...)</code>.</li>
                            <li>Such variables will be visible outside, off course.</li>
                            <li>For just a counter, this is not desirable. Limiting scope as tight as possible is better.</li>
                        </ul>
                    </dd>

                    <dt>Any part of <code>for</code> can be skipped.</dt>
                    <dd>
                        <ul>
                            <li>2 semicolons <code>for(;;)</code> can't be omitted. Otherwise, syntax error.</li>
                            <li>Skipping initializer
<pre class="js-codebox">
let i = 0;
for (; i &lt; 3; i++) {
    alert (i);
}
</pre>
                            </li>
                            <li>Skipping final-expression
<pre class="js-codebox">
let i = 0;
for (; i &lt; 3;) {
    alert (i++);
}

// compare to loop while(i &lt; 3)
</pre>
                            </li>
                            <li>Now let's skip the condition. It can, it makes an infinite loop
<pre class="js-codebox">
for (;;) {
}
</pre>
                            </li>
                        </ul>
                    </dd>
                    
                </dl>
                <a href="#top"><hr></a>
            </article>

            <article id="while">
                <h2>while</h2>
                <h3>The while loop</h3>
                <dl>
                    <dt><code>while () {}</code></dt>
                    <dd>
<pre class="formula">
<span class="variable">initializer</span>;
while (<span class="variable">condition</span>) {
    <span class="comment">...codeblock...</span>
    <span class="variable">final-expression</span>
}
</pre>
                    </dd>
                    <dd>Similar to <code>for</code> loop, but:
                        <ul>
                            <li>Only condition, such as <code>i &lt; array.length</code>, is written between parentheses.</li>
                            <li>Initializer, such as <code>let i = 0;</code>, is written before the loop</li>
                            <li>Final expression that's usually increment or decrement, such as <code>i++</code>, is written at the end of the code block.</li>
                        </ul>
                    </dd>
                    <dd>
<pre class="formula">
let <span class="variable">i = 0</span>;
while (<span class="variable">i &lt; array.length</span>) {
    <span class="comment">...codeblock...</span>
    <span class="variable">i++</span>
}
</pre>
                    </dd>
                    <dd>For example</dd>
                    <dd>
<pre class="js-codebox">
const animals = ["dodo", "great auk", "thylacine"];

let favAnimals = "Harry's favourite extinct animals are ";

let i = 0;

while (i &lt; animals.length) {
    if (i === animals.length - 1) {
        favAnimals += `and ${animals[i]}.`;
    } else {
        favAnimals += `${animals[i]}, `;
    }
    i++
}
</pre>
                    </dd>
                    <dt>Notes</dt>
                    <dd>
                        <ul>
                            <li>Condition is a true/false comparison. For example, these are all the same:
                                <ul>
                                    <code>
                                        <li>let i = 3; while (i &gt; 0) {...; i--}</li>
                                        <li>let i = 3; while (i != 0) {...; i--}</li>
                                        <li>let i = 3; while (i) {...; i--}</li>
                                    </code>
                                </ul>
                            </li>
                            <li>Curly braces not required when a loop body only has 1 single statement.
                                <ul>
                                    <code>
                                        <li>let i = 3; while (i) {alert(i--)};</li>
                                        <li>let i = 3; while (i) alert(i--);</li>
                                    </code>
                                </ul>
                            </li>
                        </ul>
                    </dd>
                </dl>
                <a href="#top"><hr></a>
            </article>

            <article id="do...while">
                <h2>do...while</h2>
                <h3>Loop that executes at least once</h3>
                <dl>
                    <dt><code>do {} while ()</code></dt>
                    <dd><code>do...while</code> is similar to <code>while</code> with one main difference:
                        <ul>
                            <li><code>do---while</code>:
                                <ul>
                                    <li>The codeblock is run before the condition is checked.</li>
                                    <li>The codeblock gets run at least once.</li>
                                </ul>
                            </li>
                            <li><code>while</code> and <code>for</code>:
                                <ul>
                                    <li>The condition is read first before goes to the codeblock.</li>
                                    <li>It's possible that the codeblock never get run because never get read. If the condition is not met right away.</li>
                                </ul>
                            </li>
                            <li>Which one to use?
                                <ul>
                                    <li><code>for</code> and <code>while</code> are preferred.</li>
                                    <li>Use <code>do...while</code> only when loop body must be executed at least once regardless the condition.</li>
                                </ul>
                            </li>
                        </ul>
                    </dd>

                    <dd>
<pre class="formula">
<span class="variable">initializer</span>
do {
    <span class="comment">...codeblock...</span>
    <span class="variable">final-expression</span>
} while (<span class="variable">condition</span>)
</pre>
                    </dd>
                </dl>
                <a href="#top"><hr></a>
            </article>

            <article id="for...of">
                <h2>for...of</h2>
                <h3>Special loop for collection</h3>

                <dl>
                    <dt><code>for(<span class="variable">member</span> of <span class="variable">collection</span>)</code></dt>
                    <dd>
<pre class="formula">
for (const <span class="variable">item</span> of <span class="variable">collection</span>) {}
</pre>
                    </dd>
                    <dd>Used to loop through a collection, for example an array.</dd>
                    <dd>
<pre class="js-codebox">
const <span class="variable">collection</span> = [<span class="variable">"dodo", "great auk", "woolly mammoth", "thylacine"</span>];

for (const <span class="variable">item</span> of <span class="variable">collection</span>) {
    <span class="variable">console.log(item);</span>
}
</pre>
                    </dd>
                    <dd>Console:</dd>
                    <dd>
<pre class="js-codebox">
dodo
great auk
woolly mammoth
thylacine
</pre>
                    </dd>
                </dl>

                <a href="#top"><hr></a>
            </article>

            <article id="for-vs-for...of">
                <h2>for vs for...of</h2>
                <h3>Which one to use for collection?</h3>

                <dl>
                    <dt><code>for...of</code></dt>
                    <dd>
<pre class="formula">
for (<span class="variable">member</span> of <span class="variable">collection</span>) {
    <span class="variable">...member...</span>
}
</pre>
                    </dd>
                    <dd>When index doesn't make difference, use <code>for...of</code> for simplicity and readability. Simplicity reduces chance of errors.</dd>
                    <dd>Common errors in standard <code>for</code> loop for collection:
                        <ul>
                            <li>Error introduced by forgetting index starts at <code>0</code> and ends at <code>length-1</code>.
                                <ul>
                                    <li>Initializing: <code>i = 1</code> instead of <code>i = 0</code></li>
                                    <li>Condition: <code>i &lt;= collection.length</code> instead of <code>i &lt; collection.length</code></li>
                                    <li>Which is individually fine as long as addressing the member in the code block is adjusted too, for example by using <code>collection[i-1]</code> instead of <code>collection[i]</code>.</li>
                                    <li>But this is getting even more confusing. Especially when working with other people, it's important for our code to be as clear as possible.</li>
                                </ul>
                            </li>
                            <li>Components inside parentheses is semicolon-separated (<code>;</code>), instead of comma.</li>
                        </ul>
                    </dd>

                    <dt><code>for</code></dt>
                    <dd>
<pre class="formula">
for (<span class="variable">let i = 0</span>; <span class="variable">i &lt; collection.length</span>; <span class="variable">i++</span>) {
    <span class="variable">...collection[i]...</span>
}
</pre>
                    </dd>
                    <dd>When index matter, using the standard <code>for</code> loop is more practical. Just use <code>if</code> condition to the index.
                        <ul>
                            <li>Example: When displaying comma-space separated list, usually the last item should not have the trailing comma. Even better, it should be preceeded with an and.</li>
                        </ul>
                    </dd>

                    <dd>
                        <pre class="js-codebox">
                        const names = ["Adam", "Ben", "Chris"];
                        
                        let students = "Students today are ";
                        
                        for (const name of names) {
                            students += `${name}, `;
                        }
                        
                        students;
                        // 'Students today are Adam, Ben, Chris, '
                        </pre>
                                            </dd>
                                            <dd>Using standard <code>for</code> loop</dd>
                                            <dd>
                        <pre class="js-codebox">
                        const names = ["Adam", "Ben", "Chris"];
                        
                        let students = "Students today are ";
                        
                        for (let i = 0; i &lt; names.length; i++) {
                            if (i &lt; (names.length - 1)) {
                                students += `${names[i]}, `;
                            } else if (i === (names.length - 1)){
                                students += `and ${names[i]}.`;
                            }   
                        }
                        
                        students;
                        // 'Students today are Adam, Ben, and Chris.'
                        </pre>
                                            </dd>
                </dl>
                    
                <a href="#top"><hr></a>
            </article>

            <article id="map">
                <h2>map</h2>
                <h3>Loop that maps of a collection</h3>
                <dl>

                    <dt><code>.map(<span class="variable">function</span>)</code></dt>
                    <dd>
<pre class="formula">
const <span class="variable">new</span> = <span class="variable">arr</span>.map(<span class="variable">function</span>)
</pre>
                    </dd>
                    <dd>To do something to each item in a collection and create a new collection containing the changed items. In other word, mapping.</dd>
                    <dd>    
<pre class="js-codebox">
function makeUpper(text) {
    return text.toUpperCase();
}

const animals = ["dodo", "great auk", "woolly mammoth", "thylacine"];
const animalsUpper = animals.map(makeUpper);

animalsUpper;       // (4) ['DODO', 'GREAT AUK', 'WOOLLY MAMMOTH', 'THYLACINE']
</pre>
                    </dd>
                </dl>

                <a href="#top"><hr></a>
            </article>

            <article id="filter">
                <h2>filter</h2>
                <h3>Loop that filters a collection</h3>
                <dl>

                    <dt><code>.filter(<span class="variable">function</span>)</code></dt>
                    
                    <dd>
<pre class="formula">
const <span class="variable">new</span> = <span class="variable">arr</span>.filter(<span class="variable">function</span>)
</pre>
                    </dd>
                    <dd>To create a new collection from items of an existing collection that fulfil some criteria.</dd>
                    <dd>Function here needs to have boolean return. If the return is true, then the item is included in the new array. </dd>
                    <dd>
<pre class="js-codebox">
function lCat(cat) {
    return cat.startsWith("L");
}

const cats = ["Leopard", "Tiger", "Jaguar", "Lion"];
const filtered = cats.filter(lCat);

filtered;       // (2) ['Leopard', 'Lion']
</pre>
                    </dd>
                        
                </dl>

                <a href="#top"><hr></a>
            </article>

            <article id="break">
                <h2>break</h2>
                <h3>Exit from the loop prematurely</h3>

                <dl>
                    <dt><code>break</code></dt>
                    <dd>
                        <ul>
                            <li>In <code>switch</code> statement: <code>break</code> statement immediately exits the switch statement and moves on to the code after it.</li>
                            <li>In loops: <code>break</code> statement immediately exit the loop and move on to any code after it.</li>
                        </ul>
                    </dd>
                    <dt>Example: search function</dt>
                    <dd>Usually quits with result upon first match. When there's no match, at the end of the run, ends with "not found" comment.</dd>
                    <dd>Pseudocode:
                        <ul>
                            <li>Const list array</li>
                            <li>User input: searched value</li>
                            <li>Search function
                                <ul>
                                    <li>Run loop through the list
                                        <ul>
                                            <li>Match?
                                                <ul>
                                                    <li>Output result</li>
                                                    <li>Break</li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>"Not found" (This part can only be reached when loop is done running through all members but no match is found.</li>
                                </ul>
                            </li>
                        </ul>
                    </dd>
                    <dd>
                        <div class="figcode">
                            <label for = "searchInput">Search by contact name:</label>
                            <input id="searchInput" type="text">
                            <button id="searchButton">Search</button>
                            <p id="searchResult"></p>
                        </div>
                        <div class="figcode">
                            <details>
                                <summary>HTML codes</summary>
<pre>
&lt;label for = "searchInput"&gt;Search by contact name:&lt;/label&gt;
&lt;input id="searchInput" type="text"&gt;
&lt;button id="searchButton"&gt;Search&lt;/button&gt;
&lt;p id="searchResult"&gt;&lt;/p&gt;    
</pre>
                            </details>
                            <details>
                                <summary>JS codes (<a href="./search_contact.js">search_contact.js</a>)</summary>
<pre>
const contacts = ["Adam:121212", "Ben:343434", "Chris:565656", "Daniel:787878", "Ebert:909090"];
const searchInput = document.getElementById("searchInput");
const searchButton = document.getElementById("searchButton");
const searchResult = document.getElementById("searchResult");

searchButton.addEventListener("click", () => {
    const searchName = searchInput.value.toLowerCase();
    searchInput.value = "";
    searchInput.focus();
    if (searchName === "") {
        searchResult.textContent = "Please enter a name.";
    } else {
        for (const contact of contacts) {
            const splitContact = contact.split(":");
            if (splitContact[0].toLowerCase() === searchName) {
                searchResult.textContent = `${splitContact[0]}\'s number is ${splitContact[1]}.`;
                break;
            }
            searchResult.textContent = "Contact not found.";
        }
    }    
});
</pre>
                            </details>
                        </div>
                    </dd>
                </dl>

                <a href="#top"><hr></a>
            </article>

            <article id="continue">
                <h2>continue</h2>
                <h3>Jump to the next iteration prematurely</h3>
                <dl>
                    <dt><code>continue</code></dt>
                    <dd>Similar to <code>break</code>, but instead of leaving the loop entirely, it skips to the next iteration of the loop.</dd>

                    <dt>Example: Square root number game</dt>
                    <dd>Rule: 
                        <ul>
                            <li>Input: Positive integer. </li>
                            <li>Output: integer square between 1 to the input number.</li>
                        </ul>
                    </dd>
                    <dd>Pseudocode:
                        <ul>
                            <li>Get input number</li>
                            <li>Run loop from 1 to input number
                                <ul>
                                    <li>if floor sqrt number is not sqrt number
                                        <ul>
                                            <li>continue to next iteration</li>
                                        </ul>
                                    </li>
                                    <li>print number</li>
                                </ul>
                            </li>
                        </ul>
                    </dd>
                    <dd>
                        <div class="figcode">
                            <b>Square game - with continue</b><br>
                            <label for="squareInput">Max:</label>
                            <input id="squareInput" type="text">
                            <button id="squareButton">Find squares</button>
                            <p id="squareResult"></p> 
                        </div>
                        <div class="figcode">
                            <details>
                                <summary>HTML codes</summary>
<pre>
&lt;label for="squareInput"&gt;Max:&lt;/label&gt;
&lt;input id="squareInput" type="text"&gt;
&lt;button id="squareButton"&gt;Find squares&lt;/button&gt;
&lt;p id="squareResult"&gt;&lt;/p&gt; 
</pre>
                            </details>
                            <details>
                                <summary>JS codes (<a href="./square_continue.js">square_continue.js</a>)</summary>
<pre>
const squareInput = document.getElementById("squareInput");
const squareButton = document.getElementById("squareButton");
const squareResult = document.getElementById("squareResult");

squareButton.addEventListener("click", () =&gt; {
    let max = squareInput.value;
    squareInput.value = "";
    squareInput.focus();
    squareResult.textContent = `Squares up to ${max}: `;
    if ((max === "") || (isNaN(max) === true)) {
        squareResult.textContent = "Please enter a number.";
    } else {
        for (let i = 1; i &lt;= max; i++) {
            let sqrtNum = Math.sqrt(i);
            if (Math.floor(sqrtNum) !== sqrtNum) {
                continue;
            }
            squareResult.textContent += `${i} `;
        }
    }
});
</pre>
                            </details>
                        </div>
                    </dd>
                    <dt>Alternative: without continue.</dt>
                    <dd>I get  that we need to exercise continue keyword. However I think it's faster to do it without.</dd>
                    <dd>Pseudocode:
                        <ul>
                            <li>Get input number</li>
                            <li>Floor sqrt input number</li>
                            <li>Run loop for (let i = 1; i &lt;= max; i++)
                                <ul>
                                    <li>Print square of i</li>
                                </ul>
                            </li>
                        </ul>
                    </dd>
                    <dd>
                        <div class="figcode">
                            <b>Square game - without continue</b><br>
                            <label for="squareInput2">Max:</label>
                            <input id="squareInput2" type="text">
                            <button id="squareButton2">Find squares</button>
                            <p id="squareResult2"></p> 
                        </div>
                        <div class="figcode">
                            <details>
                                <summary>HTML codes</summary>
<pre>
&lt;label for="squareInput2"&gt;Max:&lt;/label&gt;
&lt;input id="squareInput2" type="text"&gt;
&lt;button id="squareButton2"&gt;Find squares&lt;/button&gt;
&lt;p id="squareResult2"&gt;&lt;/p&gt; 
</pre>
                            </details>
                            <details>
                                <summary>JS codes (<a href="./square_without_continue.js">square_without_continue.js</a>)</summary>
<pre>
const squareInput2 = document.getElementById("squareInput2");
const squareButton2 = document.getElementById("squareButton2");
const squareResult2 = document.getElementById("squareResult2");

squareButton2.addEventListener("click", () =&gt; {
    let max = squareInput2.value;
    squareInput2.value = "";
    squareInput2.focus();
    squareResult2.textContent = `Squares up to ${max}: `;

    if ((max === "") || (isNaN(max) === true)) {
        squareResult2.textContent = "Please enter a number.";
    } else {
        let maxRoot = Math.floor(Math.sqrt(max));

        for (let i = 1; i &lt;= maxRoot; i++) {
            squareResult2.textContent += `${i*i} `;
        }
    }   
});
</pre>
                            </details>
                        </div>
                    </dd>

                </dl>

                <a href="#top"><hr></a>
            </article>

            <article id="infinite-loop">
                <h2>Infinite loop</h2>
                <h3>Loop that can't stop</h3>

                <p>Remember to increment or decrement loop in such that it will hit the point condition is not met anymore. Otherwise loop with go forever. This is called an infinite loop. The browser will either force it to stop, or it will crash.</p>
                <a href="#top"><hr></a>

            </article>

            <article id="exercises">
                <h2>Loop exercises</h2>

                <p><a href="./js_loop_exercises.html">Codey Luwak's notes: Loop Exercises</a></p>

                <a href="#top"><hr></a>

            </article>



            <article id="references">
                <h2>References</h2>
                <ul>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Looping_code" target="_blank">MDN: Looping code</a></li>
                    <li><a href="https://javascript.info/while-for" target="_blank">JavaScript.info: Loops: while and for</a></li>
                </ul>
                <a href="#top"><hr></a>
            </article>


            <article id="odin">
                <h2>Odin learning here</h2> 
                <ul>
                    <li>Odin page <a href="https://www.theodinproject.com/lessons/foundations-fundamentals-part-4" target="_blank">JS Foundations fundamental part 4</a></li>
                    <li>Loops 2. <a href="https://javascript.info/while-for" target="_blank">JavaScript.info: Loops: while and for</a></li>
                    <li>Sides:
                        <ul>
                            <li>Do loop exercise in: <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Test_your_skills:_Loops" target="_blank">Mdn: Test your skills: Loops</a></li>
                            <li>Read: <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents" target="_blank">MDN: DOM manipulation</a></li>
                            <li>Read: <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Basics" target="_blank">MDN: JavaScript object basics</a></li>
                        </ul>
                    </li>
                </ul>
            </article>
        </main>
        <footer>
            <div class="nav-bar"><a href="./index.html" class="nav-button-rev" style="margin: auto">Home</a></div>
        </footer>
        <script src="./navArticle.js"></script>
        <script src="./search_contact.js"></script>
        <script src="./square_continue.js"></script>
        <script src="./square_without_continue.js"></script>

    </body>
</html>

