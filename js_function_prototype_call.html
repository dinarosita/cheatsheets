<!DOCTYPE html>
<html lang="en">
    <head>
        <title>call() || JS CodeyLuwak</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/x-icon" href="./img/keyboard-5-16.ico">
        <link rel="stylesheet" href="./style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,400;0,700;1,400;1,700&family=Fira+Mono:wght@400;500;700&family=Roboto:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    </head>

    <body>

        <header>
            <a href="./index.html"><h1>JavaScript: Function.prototype.call()</h1></a>
            <nav id="navMenu"></nav>
        </header>

        <main class="js-notes">


            <article id="call-method">
                <h2>Function.prototype.call()</h2>

                <dl>
                    <dt><code>call()</code></dt>
                    <dd>This method allows a function or method belonging to one object to be assigned and called for a different object.</dd>
                    <dd>It provides a new value <code>this</code> to the function/method.</dd>
                    <dd>With <code>call()</code>, we can write a method once, then inherit it in another object without having to rewrite the method for the new object.</dd>
                    <dd>It's similar to <code>apply()</code> method, with fundamental difference:
                        <ul>
                            <li><code>apply()</code> accepts a single array of arguments.</li>
                            <li><code>call()</code> accepts an argument list.</li>
                        </ul>
                    </dd>

                    <dt>Syntax</dt>                  
                    <dd>
<pre class="formula">
call()
call(<span class="type">thisArg</span>)
call(<span class="type">thisArg</span>, <span class="variable">arg1</span>)
call(<span class="type">thisArg</span>, <span class="variable">arg1, arg2</span>)
call(<span class="type">thisArg</span>, <span class="variable">arg1, ..., argN</span>)
</pre>
                    </dd>
                    <dd>Parameters
                        <ul>
                            <li><code>thisArg</code> (optional): The value to use as <code>this</code> when calling function. Check reference for further explanation.</li>
                            <li><code>arg1, arg2, ..., argN</code> (optional): Arguments for the function</li>
                        </ul>
                    </dd>
                    <dd>Return value:
                        <ul>
                            <li>The result of calling the function with the specified <code>this</code> value and arguments.</li>
                        </ul>
                    </dd>
                    
                </dl>
                <a href="#top"><hr></a>

            </article>
            <article id="nesting-constructor">
                <h2>Using call() in nesting object constructor</h2>
                <dl>
                    <dt>Example: Create object constructor for products, grouped by categories</dt>
                    <dd>
                        <ul>
                            <li>Generic object "Product" constructor</li>
                            <li>Specific object "Category" constructor: Food, Toy, etc</li>
                        </ul>
                    </dd>
                    
                    
                    <dt>Generic object "Product" constructor</dt>
                    <dd>
<pre class="formula-thin">
function <span class="type">Product</span>(<span class="variable">name, price</span>) {
    <b>this</b>.<span class="variable">name</span> = <span class="variable">name</span>;
    <b>this</b>.<span class="variable">price</span> = <span class="variable">price</span>;
}
</pre>
                    </dd>
                    <dd>
                        <ul>
                            <li>Each product has same basic properties: name and price</li>
                            <li>There's only 1 of <b>this</b>.</li>
                            <li>Used in each specific object category constructor.</li>
                        </ul>
                    </dd>

                    <dt>Specific object "Category" constructor: Food, Toy, etc</dt>
                    <dd>
<pre class="formula-thin">
function <span class="type">Food</span>(<span class="variable">name, price</span>) {
    <span class="type">Product</span>.call(<span class="type">this</span>, <span class="variable">name, price</span>);
    <b>this</b>.<span class="variable">categeory</span> = <span class="variable">"food"</span>;
}
</pre>
                    </dd>
                    <dd>
                        <ul>
                            <li>Each product will be grouped based on the category. This category name will be each product's object type. Each project will be bearing the generic properties listed in the generic "Product" constructor, with addition property "category" that's set with category name as the value.</li>
                            <li>There are going to be bunch of this. 1 for each category.</li>
                            <li>Each of them having the generic constructor within the function, along with the category specific property.</li>
                        </ul>
                    </dd>
                    <dd>Understanding the nesting formula</dd>
                    <dd>                        
<pre class="formula">
<span class="type">method1</span>.call(<span class="type">object2</span>, <span class="variable">args</span>)
</pre>
                    </dd>
                    <dd></dd>
                    <dd>
<pre class="formula-thin">
function <span class="type">Food</span>(<span class="variable">args</span>) {
    <span class="type">Product</span>.call(<span class="type">this</span>, <span class="variable">args</span>)
}
</pre>
                    </dd>
                    <dd>Meaning: Calling method "Product" but using "this" as the object. Since the "this" is located inside "Food" constructor, the object will refer to the "food object" later created when "Food" constructor is called using "new" keyword. In other word, the "Product" function is now adapted to "Food" function. Product constructor is a template for the beginning part of Food constructor. All arguments are passed accordingly.</dd>
                    <dd>Transformation:</dd>
                    <dd>
<pre class="formula-thin">
function <span class="type">Food</span>(<span class="variable">name</span>, <span class="variable">price</span>) {
    <span class="type">Product</span>.call(<span class="type">this</span>, <span class="variable">name</span>, <span class="variable">price</span>);
    <b>this</b>.<span class="variable">category</span> = "<span class="type">Food</span>";
}

function <span class="type">Product</span>(<span class="variable">name</span>, <span class="variable">price</span>) {
    <b>this</b>.<span class="variable">name</span> = <span class="variable">name</span>;
    <b>this</b>.<span class="variable">price</span> = <span class="variable">price</span>;
}
</pre> 
                    </dd>
                    <dd>Above is essentially the same as:</dd>
                    <dd>
<pre class="formula-thin">
function <span class="type">Food</span>(<span class="variable">name</span>, <span class="variable">price</span>) {
    <b>this</b>.<span class="variable">name</span> = <span class="variable">name</span>;
    <b>this</b>.<span class="variable">price</span> = <span class="variable">price</span>;
    <b>this</b>.<span class="variable">category</span> = "<span class="type">Food</span>";
}
</pre> 
                    </dd>
                    <dd>Why bother create it nesting way? Because the Product constructor is a blueprint of all product of any category. We want to keep consistency as much as we can by not repeating coding manually.</dd>
                    <dd>

                    <dt>Complete coding</dt>
                    <dd>General "Product" constructor</dd>
                    <dd>
<pre class="formula-thin">
function Product(name, price) {
    this.name = name;
    this.price = price;
};
</pre>
                    </dd>
                    <dd>Category constructors</dd>
                    <dd>
<pre class="formula-thin">
function Food(name, price) {
    Product.call(this, name, price);
    this.category = 'food';
};

function Toy(name, price) {
    Product.call(this, name, price);
    this.category = 'toy';
};

function Furniture(name, price) {
    Product.call(this, name, price);
    this.category = 'furniture';
};
</pre>
                    </dd>
                    <dd>Create product objects</dd>
                    <dd>
<pre class="formula-thin">
const cheese = new Food("feta", 5);
const bread = new Food("muffin", 3);
const fun = new Toy("robot", 12);
const ocean = new Toy("figurine", 2);
const elegance = new Furniture("table", 30);
const cheerful = new Furniture("kid's chair", 12);
</pre>
                    </dd>
                    <dd>Results</dd>
                    <dd>
<pre class="formula-thin">
cheese;     // Food {name: 'feta', price: 5, category: 'food'}
bread;      // Food {name: 'muffin', price: 3, category: 'food'}
fun;        // Toy {name: 'robot', price: 12, category: 'toy'}
ocean;      // Toy {name: 'figurine', price: 2, category: 'toy'}
elegance;   // Furniture {name: 'table', price: 30, category: 'furniture'}
cheerful;   // Furniture {name: "kid's chair", price: 12, category: 'furniture'}
</pre>
                    </dd>
                   
                </dl>
                <a href="#top"><hr></a>
            </article>
                   
            
            <article id="template">
                <h2>template</h2>

                <dl>
                    <dt>template</dt>
                    <dd>Given: array</dd>
                    <dd>
<pre class="formula-thin">
const <span class="variable">template</span> = [<span class="variable">template</span>];
</pre>
                    </dd>
                    <dd>Map</dd>
                    <dd>
<pre class="formula">
const <span class="variable">template</span> = <span class="variable">template</span>.map(<span class="variable">template</span> => <span class="variable">template</span>);
</pre>
                    </dd>
                    <dd>Results</dd>
                    <dd>
<pre class="formula-thin">
<span class="variable">template</span>;    <span class="comment">// template</span>
<span class="variable">template</span>;      <span class="comment">// template</span>
</pre>
                    </dd>
                    
                </dl>
                <a href="#top"><hr></a>
            </article>

            <article id="references">
                <h2>References</h2>
                <ul>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call" target="_blank">MDN: Function.prototype.call()</a></li>
                </ul>
            </article>
        </main>
        <footer>
            <div class="nav-bar"><a href="./index.html" class="nav-button-rev" style="margin: auto">Home</a></div>
        </footer>
        <script src="./navArticle.js"></script>
    </body>
</html>

