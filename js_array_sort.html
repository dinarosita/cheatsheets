<!DOCTYPE html>
<html lang="en">
    <head>
        <title>sort() | JS CodeyLuwak</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/x-icon" href="./img/keyboard-5-16.ico">
        <link rel="stylesheet" href="./style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,400;0,700;1,400;1,700&family=Fira+Mono:wght@400;500;700&family=Roboto:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    </head>

    <body>

        <header>
            <a href="./index.html"><h1>JavaScript: Array.prototype.sort()</h1></a>
            <nav id="navMenu"></nav>
        </header>

        <main class="js-notes">

            <article id="sort-basic">
                <h2>Array.prototype.sort() Basic</h2>

                <dl>
                    <dt><code>sort()</code></dt>
                    <dd>The <code>sort()</code> method sorts the elements of an array <b>in place</b> and returnes the sorted array.</dd>
                    <dd>
                        <div class="formula"><code>
                        sort(<span class="variable">compareFn</span>)
                        </code></div>
                    </dd>

                    <dd>
                        <ul>
                            <li><b>Sorting happens in original array</b><br>
                                It doesn't create a new array. Original array got sorted.
                            </li>
                            <li><b>Sort according to compare function</b></li>
                            
                            <li><b>Return original sorted array</b><br>
                                If assigned into a variable, be careful. The variable is only <b>a pointer</b> to the original array, not an actually new array. There's only 1 array by the end. The sorted original array.
                            </li>
                            <li><b>Variable assigned is only a pointer</b><br>
                                Assigned sort result to a new variable? Be careful, the new variable is only a pointer to the original array. No more than that. It's not a checked out state of the array.
                            </li>
                        </ul>
                    </dd>

                    <dt>Syntax of <code>sort()</code></dt>                  
                    <dd>
<pre class="formula">
<span class="comment">// Functionless (default string sort)</span>
sort()

<span class="comment">// Compare function</span>
sort(<span class="variable">compareFn</span>)

<span class="comment">// Inline compare function</span>
sort(<span class="variable">function compareFn(a, b) {...}</span>)

<span class="comment">// Arrow function</span>
sort(<span class="variable">(a, b) => {...}</span>)
</pre>
                    </dd>
                    <dd>
                        <dl>
                            <dt>Parameter (1):</dt>
                            <dd>Compare function (optional)</dd>

                            <dt>Return value:</dt>
                            <dd>Pointer to the sorted array</dd>

                            <dt>Original array:</dt>
                            <dd>Sorted</dd>
                        </dl>
                    </dd>


                    <dt>Compare function</dt>
                    <dd>
<pre class="formula">
function <span class="variable">compareFn</span>(<span class="variable">a, b</span>) {
    <span class="variable">...</span>
    return <span class="variable">number</span>;
}
<span class="comment">// Switch elements if return is positive.</span>
</pre>
                    </dd>

                    <dd>
                        <dl>
                            <dt>Parameters (2):</dt>
                            <dd>
                                <ul>
                                    <li><code>a</code> : first element to compare</li>
                                    <li><code>b</code> : second element to compare</li>
                                </ul>
                            </dd>
 
                            <dt>Return values: Number</dt>
                            <dd>
                                <ul>
                                    <li><code>&lt; 0</code> : sort a before b</li>
                                    <li><code>&gt; 0</code> : sort b before a</li>
                                    <li><code>= 0</code> : keep original order</li>
                                </ul>
                            </dd>      
                            
                            <dt>Remember:</dt>
                            <dd>
                                <ul>
                                    <li><b>Switch if positive!</b></li>
                                    <li>When it's negative or 0, it's already correct.</li>
                                </ul>
                            </dd>

                        </dl>
                    </dd>
                </dl>

                <a href="#top"><hr></a>
            </article>

            <article id="functionless-string-sort">
                <h2>Functionless string sort</h2>
                <dl>

                    <dt>Functionless <code>sort()</code>: "string sort"</dt>
                    <dd>When compare function omitted: <b>Sort according to UTF-16 code units order</b></dd>
                    <dd>
                        <ul>
                            <li>Elements are converted to strings</li>
                            <li>Strings are compared in UTF-16 code units order.</li>
                            <li>In general: 0-9, to A-Z, to a-z.</li>
                            <li>Element's convertion to string is only for sorting purpose. The actual array elements values remain whatever they were.</li>
                        </ul>
                    </dd>

                    <dt>Ascending string sort <code>["a", "b", "c", ...]</code></dt>
                    <dd>
                        <div class="formula"><code>
                        <span class="variable">array</span>.sort()
                        </code></div>
                    </dd>

                    <dt>Descending string sort <code>["z", "y", "x", ...]</code>.</dt>
                    <dd>
                        <div class="formula"><code>
                            <span class="variable">array</span>.sort().reverse()
                        </code></div>
                    </dd>
                    <dd>First, sort ascending as usual, then, reverse array order.
                        <ul>
                            <li><code>reverse()</code>: Reversing the order of an array in place.<br>
<pre class="formula-thin">
const <span class="variable">array</span> = [<span class="variable">1, 30, 5, 70, 9</span>];
<span class="variable">array</span>.reverse()     // <span class="variable">array</span> = [<span class="variable">9, 70, 5, 30, 1</span>];
</pre>
                            </li>
                        </ul>
                    </dd>


                </dl>

                <a href="#top"><hr></a>
            </article>

            <article id="numeric-sort">
                <h2>Numeric sort</h2>
                <dl>


                    <dt>Ascending numeric sort <code>[1, 2, 3, ...]</code></dt>
                    <dd>
                        <div class="formula"><code>
                            <span class="variable">array</span>.sort(<span class="variable">(a, b)</span> => <span class="variable">a - b</span>)
                        </code></div>
                    </dd>
                    <dd>Pseudocodes journey for <code>(a, b)</code>:
                        <ul>
                            <li>It needs switching only if b &lt; a</li>
                            <li>If <code>b &lt; a</code>, switch. 
                                <ul>
                                    <li><code>if (b &lt; a) {return 1}</code></li>
                                    <li><code>else {return -1}</code></li>
                                </ul>
                            </li>
                            <li>In ternary:
                                <ul>
                                    <li><code>b &lt; a? 1 : -1</code></li>
                                </ul>
                            </li>
                            <li>At this point, the code is becoming:<br>
                                <div class="formula-thin"><code>
                                    <span class="variable">array</span>.sort(<span class="variable">(a, b)</span> => <span class="variable">b &lt; a? 1 : -1</span>)
                                </code></div>
                            </li>
                            <li>But really, we want to say: <b>switch if <code>b &lt; a</code></b>
                                <ul>
                                    <li>Switch = return positive.</li>
                                    <li>How to make a positive value if <code>b &lt; a</code>? By returning <code>a - b</code>!</li>
                                    <li>Returning <code>a - b</code> means:
                                        <ul>
                                            <li>When <code>a &lt; b</code>, no switching needed. Return value is <code>negative</code>, a is placed before b as before.</li>
                                            <li>When <code>a = b</code>, no switching needed. Return value is <code>0</code>, a and b are put back as is.</li>
                                            <li>When <code>b &lt; a</code>, then they need to be switched. Return value is <code>positive</code>, then the <code>switching</code> happened.</li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li>Therefore, the code:<br>
                                <div class="formula-thin"><code>
                                    <span class="variable">array</span>.sort(<span class="variable">(a, b)</span> => <span class="variable">a - b</span>)
                                </code></div>
                            </li>
                        </ul>
                    </dd>

                    <dt>Descending numeric sort <code>[9, 8, 7, ...]</code></dt>
                    <dd>
                        <div class="formula"><code>
                            <span class="variable">array</span>.sort(<span class="variable">(a, b)</span> => <span class="variable">b - a</span>)
                        </code></div>
                    </dd>
                    <dd>Pseudocodes journey for <code>(a, b)</code>:
                        <ul>
                            <li>Similar, but now: <b>switch if <code>a &lt; b</code></b></li>
                            <li>Switch is if return is positive.</li>
                            <li>To make positive from a and b when a is smaller is: <code>b - a</code></li>
                            <li>Therefore, the code.</li>
                        </ul>
                    </dd>

                    <dt>String numbers</dt>
                    <dd>This sort will work even when numbers are written as string (between quotation marks), since JavaScript treated string numbers as numbers in mathematical operations.</dd>
                </dl>

                <a href="#top"><hr></a>
            </article>

            <article id="object-array-sort">
                <h2>Object array sort</h2>
                <dl>

                    <dt>Array example</dt>
                    <dd>
<pre class="js-codebox">
const array = [
    { name: "jen", age: 3 },
    { name: "Edi", age: 7 },
    { name: "Zed", age: 8 },
    { name: "abe", age: 5 }
];
</pre>
                    </dd>

                    <dt>Ascending sort based on age</dt>
                    <dd>
                        <ul>
                            <li>Just like in numeric sort</li>
                        </ul>
                    </dd>
                    <dd>
                        <div class="formula"><code>
                            <span class="variable">array</span>.sort(<span class="variable">(a, b)</span> => <span class="variable">a.age - b.age</span>)
                        </code></div>
                    </dd>
                    <dd>
<pre class="js-codebox">
array = [
    { name: "jen", age: 3 },
    { name: "abe", age: 5 },
    { name: "Edi", age: 7 },
    { name: "Zed", age: 8 }
];
</pre>
                    </dd>

                    <dt>Ascending sort based on name</dt>
                    <dd>
                        <ul>
                            <li>Unfortunately can't just use <code>a.name - b.name</code> because each of them is <code>NaN</code> and so is the result.</li>
                            <li>However <code>a.name</code> and <code>b.name</code> still can be compared using <code>&lt;</code>, <code>&gt;</code>, and <code>===</code>.</li>
                            <li>
                                <div class="formula-thin"><code>
                                    <span class="variable">array</span>.sort(<span class="variable">(a, b)</span> => <span class="variable">a.name > b.name? 1 : -1</span>)
                                </code></div>
                            </li>
                            <li>It works except it is case-sensitive.</li>
                            <li>To make it case insensitive, let's compare their lowerCase or upperCase values instead.</li>
<pre class="formula">
<span class="variable">array</span>.sort(<span class="variable">(a, b)</span> =>
    <span class="variable">a.name.toLowerCase() > b.name.toLowerCase()? 1 : -1</span>
)
</pre>
                        </ul>
                    </dd>
                    <dd>
                        
<pre class="js-codebox">
array = [
    { name: "abe", age: 5 },
    { name: "Edi", age: 7 },
    { name: "jen", age: 3 },  
    { name: "Zed", age: 8 }
];
</pre>
                    </dd>

                    <dt>Equal value and zero return</dt>
                    <dd>We can omit zero notion in return value for 2 possible reasons:
                        <ul>
                            <li>zero's if-condition is grouped with negative's if-condition, because both means the same thing: Don't switch.</li>
                            <li>It's okay if when zero's if-condition got accidentally grouped with positive's if-condition, because the 2 elements have identical value, and switching their position doesn't matter.</li>
                        </ul>
                    </dd>
                    <dd><b>Group the equal's if-condition with the negative's if condition for no switch</b><br>
                    However in more complicated array, for example object array, the array elements are more likely not identical. Their defining value could be equal, but the rest of the values could be different. In this case, we have to be careful grouping the equal if-condition with the negative if-condition if we don't want them to get switched.</dd>

                    <dd><b>Specified separately</b><br>
                    Or... it can be specified separately.</dd>

                    <dt>Sort stability</dt>
                    <dd>If equation is written properly, then now, after EcmaScript 2019, when defining value is equal, the order will remain the same. A stable sorting algorithm guarantees this. Before, they are not guaranted and the result can be switched.</dd>
                    <dd>When is this useful? Say you have an object array of student names and grades. The array is already in alphabetical order based on the student names. But now we want to sort it based on the grade first. Then of course name should be still in alphabetical order following the grade sort. In the past, they can come back shuffled. Original order not maintained.</dd>
                </dl>

                <a href="#top"><hr></a>
            </article>

            <article id="non-ascii-sort">
                <h2>Non-ASCII character sort</h2>

                <dl>
                   <dt><code>localeCompare()</code></dt>
                   <dd>
                        <div class="formula"><code>
                            <span class="variable">array</span>.sort(<span class="variable">(a, b)</span> => <span class="variable">a.localeCompare(b)</span>)
                        </code></div>
                    </dd>
                    <dd>
                    
<pre class="js-codebox">
array = ['réservé', 'premier', 'communiqué', 'café', 'adieu', 'éclair'];
array.sort((a, b) => a.localeCompare(b));
array;
// ['adieu', 'café', 'communiqué', 'éclair', 'premier', 'réservé']
</pre>
                    </dd>   
                </dl>

                <a href="#top"><hr></a>
            </article>

            <article id="sorting-with-map">
                <h2>Sorting with map</h2>
                
                <p>Future learning</p>>

                <a href="#top"><hr></a>
            </article>

            <article id="wesbos">
                <h2>Wesbos Javascript30: 04 Array Cardio Practice</h2>
                
                <dl>
                    <dt>Given: array of inventor objects</dt>
                    <dd>
<pre class="formula-thin">
const inventors = [
    { first: 'Albert', last: 'Einstein', year: 1879, passed: 1955 },
    { first: 'Isaac', last: 'Newton', year: 1643, passed: 1727 },
    { first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642 },
    { first: 'Marie', last: 'Curie', year: 1867, passed: 1934 },
    { first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630 },
    { first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543 },
    { first: 'Max', last: 'Planck', year: 1858, passed: 1947 },
    { first: 'Katherine', last: 'Blodgett', year: 1898, passed: 1979 },
    { first: 'Ada', last: 'Lovelace', year: 1815, passed: 1852 },
    { first: 'Sarah E.', last: 'Goode', year: 1855, passed: 1905 },
    { first: 'Lise', last: 'Meitner', year: 1878, passed: 1968 },
    { first: 'Hanna', last: 'Hammarström', year: 1829, passed: 1909 }
];
</pre>
                    </dd>
                    <dt>Task: 3. Sort the inventors by birthdate, oldest to youngest</dt>
                    <dd>
<pre class="formula">
const <span class="variable">invBirth</span> = <span class="variable">inventors</span>.sort(<span class="variable">(a, b)</span> => <span class="variable">a.year - b.year</span>)
</pre>
                    </dd>
                    <dd>Result</dd>
                    <dd>
<pre class="formula-thin">
invBirth;
// (12) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
    0: {first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543}
    1: {first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642}
    2: {first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630}
    3: {first: 'Isaac', last: 'Newton', year: 1643, passed: 1727}
    4: {first: 'Ada', last: 'Lovelace', year: 1815, passed: 1852}
    5: {first: 'Hanna', last: 'Hammarström', year: 1829, passed: 1909}
    6: {first: 'Sarah E.', last: 'Goode', year: 1855, passed: 1905}
    7: {first: 'Max', last: 'Planck', year: 1858, passed: 1947}
    8: {first: 'Marie', last: 'Curie', year: 1867, passed: 1934}
    9: {first: 'Lise', last: 'Meitner', year: 1878, passed: 1968}
    10: {first: 'Albert', last: 'Einstein', year: 1879, passed: 1955}
    11: {first: 'Katherine', last: 'Blodgett', year: 1898, passed: 1979}
</pre>
                    </dd>

                    <dt>5. Sort the inventors by years lived</dt>
                    <dd>
<pre class="formula">
const <span class="variable">invAscending</span> = <span class="variable">inventors</span>.sort(<span class="variable">(a, b)</span> => <span class="variable">(a.passed - a.year) - (b.passed - b.year)</span>);

const <span class="variable">invDescending</span> = <span class="variable">inventors</span>.sort(<span class="variable">(a, b)</span> => <span class="variable">(b.passed - b.year) - (a.passed - a.year)</span>);
</pre>
                    </dd>
                    <dd>Result</dd>
                    <dd>
<pre class="formula-thin">
invAscending;
// (12) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
    0: {first: 'Ada', last: 'Lovelace', year: 1815, passed: 1852}
    1: {first: 'Sarah E.', last: 'Goode', year: 1855, passed: 1905}
    2: {first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630}
    3: {first: 'Marie', last: 'Curie', year: 1867, passed: 1934}
    4: {first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543}
    5: {first: 'Albert', last: 'Einstein', year: 1879, passed: 1955}
    6: {first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642}
    7: {first: 'Hanna', last: 'Hammarström', year: 1829, passed: 1909}
    8: {first: 'Katherine', last: 'Blodgett', year: 1898, passed: 1979}
    9: {first: 'Isaac', last: 'Newton', year: 1643, passed: 1727}
    10: {first: 'Max', last: 'Planck', year: 1858, passed: 1947}
    11: {first: 'Lise', last: 'Meitner', year: 1878, passed: 1968}

invDescending;
// (12) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
    0: {first: 'Lise', last: 'Meitner', year: 1878, passed: 1968}
    1: {first: 'Max', last: 'Planck', year: 1858, passed: 1947}
    2: {first: 'Isaac', last: 'Newton', year: 1643, passed: 1727}
    3: {first: 'Katherine', last: 'Blodgett', year: 1898, passed: 1979}
    4: {first: 'Hanna', last: 'Hammarström', year: 1829, passed: 1909}
    5: {first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642}
    6: {first: 'Albert', last: 'Einstein', year: 1879, passed: 1955}
    7: {first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543}
    8: {first: 'Marie', last: 'Curie', year: 1867, passed: 1934}
    9: {first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630}
    10: {first: 'Sarah E.', last: 'Goode', year: 1855, passed: 1905}
    11: {first: 'Ada', last: 'Lovelace', year: 1815, passed: 1852}
</pre>
                    </dd>

                    <dt>Given</dt>
                    <dd>
<pre class="formula-thin">
const people = [
    'Bernhard, Sandra', 'Bethea, Erin', 'Becker, Carl', 'Bentsen, Lloyd', 'Beckett, Samuel', 'Blake, William', 'Berger, Ric', 'Beddoes, Mick', 'Beethoven, Ludwig',
    'Belloc, Hilaire', 'Begin, Menachem', 'Bellow, Saul', 'Benchley, Robert', 'Blair, Robert', 'Benenson, Peter', 'Benjamin, Walter', 'Berlin, Irving',
    'Benn, Tony', 'Benson, Leana', 'Bent, Silas', 'Berle, Milton', 'Berry, Halle', 'Biko, Steve', 'Beck, Glenn', 'Bergman, Ingmar', 'Black, Elk', 'Berio, Luciano',
    'Berne, Eric', 'Berra, Yogi', 'Berry, Wendell', 'Bevan, Aneurin', 'Ben-Gurion, David', 'Bevel, Ken', 'Biden, Joseph', 'Bennington, Chester', 'Bierce, Ambrose',
    'Billings, Josh', 'Birrell, Augustine', 'Blair, Tony', 'Beecher, Henry', 'Biondo, Frank'
];
</pre>
                    </dd>

                    <dt>7. Sort the people alphabetically by last name</dt>
                    <dd>Sort based on the last name</dd>
                    <dd>
<pre class="formula">
const <span class="variable">sortLastname</span> = <span class="variable">people</span>.sort();
</pre>
                    </dd>
                    <dd>Sort based on the first name</dd>
                    <dd>
<pre class="formula">
function <span class="variable">switchName</span>(<span class="variable">name</span>) {
    const <span class="variable">nameArr</span> = <span class="variable">name</span>.split(", ");
    return <span class="variable">`${nameArr[1]} ${nameArr[0]}`</span>;
}

const <span class="variable">sortFirstname</span> = <span class="variable">people</span>.sort(<span class="variable">(a, b)</span> => {
    <span class="variable">const switchedA = switchName(a);
    const switchedB = switchName(b);</span>
    return <span class="variable">(switchedA > switchedB)</span>? <span class="variable">1</span> : <span class="variable">-1</span>;
})
</pre>
                    </dd>
                    <dd>Results</dd>
                    <dd>
<pre class="formula-thin">
sortLastname;
// (41) ['Beck, Glenn', 'Becker, Carl', 'Beckett, Samuel', 'Beddoes, Mick', 'Beecher, Henry', 'Beethoven, Ludwig', 'Begin, Menachem', 'Belloc, Hilaire', 'Bellow, Saul', 'Ben-Gurion, David', 'Benchley, Robert', 'Benenson, Peter', 'Benjamin, Walter', 'Benn, Tony', 'Bennington, Chester', 'Benson, Leana', 'Bent, Silas', 'Bentsen, Lloyd', 'Berger, Ric', 'Bergman, Ingmar', 'Berio, Luciano', 'Berle, Milton', 'Berlin, Irving', 'Berne, Eric', 'Bernhard, Sandra', 'Berra, Yogi', 'Berry, Halle', 'Berry, Wendell', 'Bethea, Erin', 'Bevan, Aneurin', 'Bevel, Ken', 'Biden, Joseph', 'Bierce, Ambrose', 'Biko, Steve', 'Billings, Josh', 'Biondo, Frank', 'Birrell, Augustine', 'Black, Elk', 'Blair, Robert', 'Blair, Tony', 'Blake, William']

sortFirstname;
// (41) ['Bierce, Ambrose', 'Bevan, Aneurin', 'Birrell, Augustine', 'Becker, Carl', 'Bennington, Chester', 'Ben-Gurion, David', 'Black, Elk', 'Berne, Eric', 'Bethea, Erin', 'Biondo, Frank', 'Beck, Glenn', 'Berry, Halle', 'Beecher, Henry', 'Belloc, Hilaire', 'Bergman, Ingmar', 'Berlin, Irving', 'Biden, Joseph', 'Billings, Josh', 'Bevel, Ken', 'Benson, Leana', 'Bentsen, Lloyd', 'Berio, Luciano', 'Beethoven, Ludwig', 'Begin, Menachem', 'Beddoes, Mick', 'Berle, Milton', 'Benenson, Peter', 'Berger, Ric', 'Benchley, Robert', 'Blair, Robert', 'Beckett, Samuel', 'Bernhard, Sandra', 'Bellow, Saul', 'Bent, Silas', 'Biko, Steve', 'Benn, Tony', 'Blair, Tony', 'Benjamin, Walter', 'Berry, Wendell', 'Blake, William', 'Berra, Yogi']
</pre>
                    </dd>
                </dl>
            </article>

            <article id="references">
                <h2>References</h2>
                <ul>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort" target="_blank">MDN: Array.prototype.sort()</a></li>
                </ul>
            </article>
        </main>
        <footer>
            <div class="nav-bar"><a href="./index.html" class="nav-button-rev" style="margin: auto">Home</a></div>
        </footer>
        <script src="./navArticle.js"></script>
    </body>
</html>

